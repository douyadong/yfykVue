/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1. 项目名称：有房有客M站
 2. 页面名称：rent -> detail (租房详情页)
 3. 作者：zhaohuagang@lifang.com
 4. 备注：对api的依赖：jQuery
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
function DetailController() {
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    继承于Controller基类
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    Controller.call(this) ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    相册swiper处理
   -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    this.swipeAlbum() ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    下载app顶部条处理
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    this.wakeUpApp() ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    处理页面微信分享功能
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    this.wechatShare() ;
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
下载app顶部条处理
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
DetailController.prototype.wakeUpApp = function() {
    $("#app-download .download").click(function(){
        new AppDownload({
            "androidSchemes" : "wkzf://external_call" ,
            "isoSchemes" : "wkzf://external_call" ,
            "androidDownloadLink" : "//m.wkzf.com/download/transit" ,
            "iosDownloadLink" : "//m.wkzf.com/download/transit"
        }) ;
    }) ;    
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 处理页面微信分享功能
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
DetailController.prototype.wechatShare = function() {
    new WechatShare({
        "title" : $("#wechatShareTitle").val() ,
        "content" : $("#wechatShareContent").val() ,
        "imgUrl" : $("#wechatShareImgUrl").val() ,
        "environment" : this.environment
    }) ;
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 类的初始化
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
$(document).ready(function() {
    new DetailController() ;
}) ;